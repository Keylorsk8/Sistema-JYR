@model Sistema_JYR.Models.Pedidos


@{
    ViewBag.Title = "Detalle Pedido";
    Sistema_JYR.Models.SistemaJYREntities db = new Sistema_JYR.Models.SistemaJYREntities();
}


@if (Session["ListaProductos"] != null)
{
    switch (Session["ListaProductos"])
    {
        case 1:
            <script type="text/javascript">
                function NoExiste() {
                    Swal.fire({
                        title: 'No existe el producto',
                        text: 'Intentelo nuevamente',
                        icon: 'warning',
                        toast: false,
                        timer: 4000,
                        timerProgressBar: true
                    });
                };
                NoExiste();
            </script>
            Session["ListaProductos"] = null;
            break;
        case 2:
            <script type="text/javascript">
                function NoExiste() {
                    Swal.fire({
                        title: 'Debes seleccionar un Documento',
                        text: 'Dirigite a Proformas o Pedidos y seleccionada alguno para incluir tus articulos',
                        icon: 'info',
                        toast: false,
                        timerProgressBar: true
                    });
                };
                NoExiste();
            </script>
            Session["ListaProductos"] = null;
            break;
        case 3:
            <script type="text/javascript">
                function NoExiste() {
                    Swal.fire({
                        title: 'Debes Iniciar Sesión',
                        html: 'Inicia sesión o crea una cuenta para generar proformas y pedidos virtualmente. <a href="@Url.Action("Login","Account")">Clic acá </a> para iniciar sesión',
                        icon: 'info',
                        toast: false,
                        timerProgressBar: true
                    });
                };
                NoExiste();
            </script>
            Session["ListaProductos"] = null;
            break;
        case 4:
            <script type="text/javascript">
                function NoExiste() {
                    Swal.fire({
                        toast: true,
                        timerProgressBar: true,
                        position: 'top',
                        width: '1000px',
                        icon: 'success',
                        title: 'Producto Agregado Correctamente',
                        showConfirmButton: false,
                        timer: 2500
                    });
                };
                NoExiste();
            </script>
            Session["ListaProductos"] = null;
            break;
        case 5:
            <script type="text/javascript">
                function NoExiste() {
                    Swal.fire({
                        toast: true,
                        timerProgressBar: true,
                        position: 'top',
                        width: '1000px',
                        icon: 'success',
                        title: '¡Producto Agregado Correctamente!',
                        showConfirmButton: false,
                        timer: 2500
                    });
                };
                NoExiste();
            </script>
            Session["ListaProductos"] = null;
            break;
        default:
            break;
    }
}

<div class="container" style="text-align: center" id="divDetalles">
    <div class="panel panel-default">

        <table class="table table-striped table-hover table-bordered table-responsive-lg">
            <tr>
                <th>
                    Id
                </th>
                <th>
                    Producto
                </th>
                <th>
                    Cantidad
                </th>
                <th>
                    Cantidad Enviada
                </th>
                <th>
                    Precio Unitario
                </th>
                <th>
                    Descuento
                </th>
                <th>
                    Cantidad a Enviar
                </th>
                <th>
                    Acciones
                </th>
            </tr>

            @foreach (var c in Model.PedidoDetalle)
            {
                <tr>
                    <td>
                        @c.Productos.Id
                    </td>
                    <td>
                        @c.Productos.Nombre
                    </td>
                    <td>
                        @c.Cantidad
                    </td>
                    <td>
                        @c.CantidadEnviada
                    </td>
                    <td>
                        ₡@c.PrecioUnitario
                    </td>
                    <td>
                        ₡@c.Descuento
                    </td>

                    <td>
                        <input type="text" class="form-control" value="" name="@c.Id" id="@c.Id" />
                    </td>
                    <td>
                        <a class="btn btn-outline-dark" onclick="x(@c.Id, @c.IdPedido)">
                            <i class="fa fa-envelope"></i>Enviar
                        </a>

                    </td>

                </tr>


            }

        </table>
    </div>
</div>